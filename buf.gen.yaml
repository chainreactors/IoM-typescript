version: v2

# Generate gRPC-Web code only (removed legacy ts-proto for @grpc/grpc-js)
plugins:
  # Frontend (Browser) - TypeScript
  - remote: buf.build/bufbuild/es:v1.10.0
    out: src/generated/web
    opt:
      - target=ts
      - import_extension=none
  - remote: buf.build/connectrpc/es:v1.1.4
    out: src/generated/web
    opt:
      - target=ts
      - import_extension=none

  # Backend (Node.js gRPC Proxy) - JavaScript
  - remote: buf.build/bufbuild/es:v1.10.0
    out: src/generated/node
    opt:
      - target=js
  - remote: buf.build/connectrpc/es:v1.1.4
    out: src/generated/node
    opt:
      - target=js

